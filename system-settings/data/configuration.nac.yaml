# manually excluded the following from .terraform/modules/aci/
#
# module "aci_fabric_wide_settings" {
#   source = "./modules/terraform-aci-fabric-wide-settings"

#   count                         = local.modules.aci_fabric_wide_settings == true && var.manage_fabric_policies ? 1 : 0
#   remote_leaf_direct            = try(local.fabric_policies.global_settings.remote_leaf_direct, local.defaults.apic.fabric_policies.global_settings.remote_leaf_direct)
# }

# module.aci.module.aci_bgp_policy[0].aci_rest_managed.bgpAsP: Creating...
# module.aci.module.aci_banner[0].aci_rest_managed.aaaPreLoginBanner: Creating...
# module.aci.module.aci_error_disabled_recovery[0].aci_rest_managed.edrErrDisRecoverPol: Creating...
# module.aci.module.aci_ptp[0].aci_rest_managed.latencyPtpMode: Creating...
# module.aci.module.aci_aaa[0].aci_rest_managed.aaaUserEp: Creating...
# module.aci.module.aci_ip_aging[0].aci_rest_managed.epIpAgingP: Creating...
# module.aci.module.aci_health_score_evaluation_policy[0].aci_rest_managed.healthEvalP: Creating...
# module.aci.module.aci_coop_policy[0].aci_rest_managed.coopPol: Creating...
# module.aci.module.aci_fabric_isis_policy[0].aci_rest_managed.isisDomPol: Creating...
# module.aci.module.aci_apic_connectivity_preference[0].aci_rest_managed.mgmtConnectivityPrefs: Creating...
# module.aci.module.aci_error_disabled_recovery[0].aci_rest_managed.edrErrDisRecoverPol: Creation complete after 0s [id=uni/infra/edrErrDisRecoverPol-default]
# module.aci.module.aci_aaa[0].aci_rest_managed.aaaBlockLoginProfile: Creating...
# module.aci.module.aci_banner[0].aci_rest_managed.aaaPreLoginBanner: Creation complete after 0s [id=uni/userext/preloginbanner]
# module.aci.module.aci_bgp_policy[0].aci_rest_managed.bgpRRNodePEp["201"]: Creating...
# module.aci.module.aci_bgp_policy[0].aci_rest_managed.bgpAsP: Creation complete after 0s [id=uni/fabric/bgpInstP-default/as]
# module.aci.module.aci_fabric_isis_policy[0].aci_rest_managed.isisDomPol: Creation complete after 0s [id=uni/fabric/isisDomP-default]
# module.aci.module.aci_bgp_policy[0].aci_rest_managed.bgpRRNodePEp["202"]: Creating...
# module.aci.module.aci_ptp[0].aci_rest_managed.latencyPtpMode: Creation complete after 0s [id=uni/fabric/ptpmode]
# module.aci.module.aci_apic_connectivity_preference[0].aci_rest_managed.mgmtConnectivityPrefs: Creation complete after 0s [id=uni/fabric/connectivityPrefs]
# module.aci.module.aci_coop_policy[0].aci_rest_managed.coopPol: Creation complete after 0s [id=uni/fabric/pol-default]
# module.aci.module.aci_aaa[0].aci_rest_managed.aaaAuthRealm: Creating...
# module.aci.module.aci_aaa[0].aci_rest_managed.aaaUserEp: Creation complete after 0s [id=uni/userext]
# module.aci.module.aci_system_global_gipo[0].aci_rest_managed.fmcastSystemGIPoPol: Creating...
# module.aci.module.aci_fabric_l2_mtu[0].aci_rest_managed.l2InstPol: Creating...
# module.aci.module.aci_health_score_evaluation_policy[0].aci_rest_managed.healthEvalP: Creation complete after 0s [id=uni/fabric/hsPols/hseval]
# module.aci.module.aci_aaa[0].aci_rest_managed.aaaBlockLoginProfile: Creation complete after 0s [id=uni/userext/blockloginp]
# module.aci.module.aci_fabric_wide_settings[0].aci_rest_managed.infraSetPol: Creating...
# module.aci.module.aci_infra_dscp_translation_policy[0].aci_rest_managed.qosDscpTransPol: Creating...
# module.aci.module.aci_ip_aging[0].aci_rest_managed.epIpAgingP: Creation complete after 0s [id=uni/infra/ipAgingP-default]
# module.aci.module.aci_aaa[0].aci_rest_managed.pkiWebTokenData: Creating...
# module.aci.module.aci_bgp_policy[0].aci_rest_managed.bgpRRNodePEp["201"]: Creation complete after 0s [id=uni/fabric/bgpInstP-default/rr/node-201]
# module.aci.module.aci_bgp_policy[0].aci_rest_managed.bgpRRNodePEp["202"]: Creation complete after 0s [id=uni/fabric/bgpInstP-default/rr/node-202]
# module.aci.module.aci_port_tracking[0].aci_rest_managed.infraPortTrackPol: Creating...
# module.aci.module.aci_aaa[0].aci_rest_managed.aaaAuthRealm: Creation complete after 0s [id=uni/userext/authrealm]
# module.aci.module.aci_fabric_isis_bfd[0].aci_rest_managed.l3IfPol: Creating...
# module.aci.module.aci_endpoint_loop_protection[0].aci_rest_managed.epLoopProtectP: Creating...
# module.aci.module.aci_fabric_l2_mtu[0].aci_rest_managed.l2InstPol: Creation complete after 0s [id=uni/fabric/l2pol-default]
# module.aci.module.aci_system_global_gipo[0].aci_rest_managed.fmcastSystemGIPoPol: Creation complete after 0s [id=uni/infra/systemgipopol]
# module.aci.module.aci_fabric_wide_settings[0].aci_rest_managed.infraSetPol: Creation complete after 0s [id=uni/infra/settings]
# module.aci.module.aci_system_performance[0].aci_rest_managed.commApiRespTime: Creating...
# module.aci.module.aci_rogue_endpoint_control[0].aci_rest_managed.epControlP: Creating...
# module.aci.module.aci_aaa[0].aci_rest_managed.pkiWebTokenData: Creation complete after 0s [id=uni/userext/pkiext/webtokendata]
# module.aci.module.aci_infra_dscp_translation_policy[0].aci_rest_managed.qosDscpTransPol: Creation complete after 0s [id=uni/tn-infra/dscptranspol-default]
# module.aci.module.aci_port_tracking[0].aci_rest_managed.infraPortTrackPol: Creation complete after 0s [id=uni/infra/trackEqptFabP-default]
# module.aci.module.aci_fabric_isis_bfd[0].aci_rest_managed.l3IfPol: Creation complete after 0s [id=uni/fabric/l3IfP-default]
# module.aci.module.aci_aaa[0].aci_rest_managed.aaaPwdProfile: Creating...
# module.aci.module.aci_date_time_format[0].aci_rest_managed.datetimeFormat: Creating...
# module.aci.module.aci_error_disabled_recovery[0].aci_rest_managed.edrEventP-event-mcp-loop: Creating...
# module.aci.module.aci_error_disabled_recovery[0].aci_rest_managed.edrEventP-event-ep-move: Creating...
# module.aci.module.aci_endpoint_loop_protection[0].aci_rest_managed.epLoopProtectP: Creation complete after 0s [id=uni/infra/epLoopProtectP-default]
# module.aci.module.aci_system_performance[0].aci_rest_managed.commApiRespTime: Creation complete after 0s [id=uni/fabric/comm-default/apiResp]
# module.aci.module.aci_error_disabled_recovery[0].aci_rest_managed.edrEventP-event-bpduguard: Creating...
# module.aci.module.aci_aaa[0].aci_rest_managed.aaaDefaultAuth: Creating...
# module.aci.module.aci_aaa[0].aci_rest_managed.aaaConsoleAuth: Creating...
# module.aci.module.aci_rogue_endpoint_control[0].aci_rest_managed.epControlP: Creation complete after 0s [id=uni/infra/epCtrlP-default]
# module.aci.module.aci_date_time_format[0].aci_rest_managed.datetimeFormat: Creation complete after 0s [id=uni/fabric/format-default]
# module.aci.module.aci_aaa[0].aci_rest_managed.aaaPwdProfile: Creation complete after 0s [id=uni/userext/pwdprofile]
# module.aci.module.aci_error_disabled_recovery[0].aci_rest_managed.edrEventP-event-mcp-loop: Creation complete after 0s [id=uni/infra/edrErrDisRecoverPol-default/edrEventP-event-mcp-loop]
# module.aci.module.aci_error_disabled_recovery[0].aci_rest_managed.edrEventP-event-ep-move: Creation complete after 0s [id=uni/infra/edrErrDisRecoverPol-default/edrEventP-event-ep-move]
# module.aci.module.aci_error_disabled_recovery[0].aci_rest_managed.edrEventP-event-bpduguard: Creation complete after 0s [id=uni/infra/edrErrDisRecoverPol-default/edrEventP-event-bpduguard]
# module.aci.module.aci_aaa[0].aci_rest_managed.aaaDefaultAuth: Creation complete after 0s [id=uni/userext/authrealm/defaultauth]
# module.aci.module.aci_aaa[0].aci_rest_managed.aaaConsoleAuth: Creation complete after 0s [id=uni/userext/authrealm/consoleauth]


# BFD is configured under Fabric » Fabric Policies » Policies » Interface » L3 Interface » default 

apic:
  fabric_policies:
    global_settings:
      domain_validation: true
      enforce_subnet_check: true
      opflex_authentication: true
      disable_remote_endpoint_learn: true
      overlapping_vlan_validation: true
      remote_leaf_direct: false
      reallocate_gipo: true 

    fabric_bgp_as: 64512
    fabric_bgp_rr:
      - 201
      - 202

    banners:
      apic_gui_alias: Production ACI fabric
      apic_cli_banner: Production ACI fabric
      switch_cli_banner: Production ACI fabric 